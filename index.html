<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Tithes Series</title>
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
        />
        <link rel="stylesheet" href="style.css" />
        <style>
            /* Professional Engaging Spinner */
            .tab-spinner {
                display: flex;
                justify-content: center;
                align-items: center;
                height: 150px;
                width: 100%;
                position: relative;
            }

            /* Hide the original Font Awesome icon */
            .tab-spinner i {
                display: none;
            }

            /* Main spinner ring */
            .tab-spinner::before {
                content: "";
                position: absolute;
                width: 60px;
                height: 60px;
                border-radius: 50%;
                border: 3px solid rgba(74, 109, 167, 0.1);
                border-top: 3px solid #4a6da7;
                border-right: 3px solid #4a6da7;
                box-shadow: 0 0 15px rgba(74, 109, 167, 0.1);
                animation: spinClockwise 1.2s
                    cubic-bezier(0.68, -0.55, 0.27, 1.55) infinite;
            }

            /* Inner spinner ring */
            .tab-spinner::after {
                content: "";
                position: absolute;
                width: 40px;
                height: 40px;
                border-radius: 50%;
                border: 3px solid rgba(74, 109, 167, 0.05);
                border-bottom: 3px solid #4a6da7;
                border-left: 3px solid #4a6da7;
                animation: spinCounterClockwise 1.8s
                    cubic-bezier(0.68, -0.55, 0.27, 1.55) infinite;
            }

            /* Create the pulse effect */
            @keyframes spinClockwise {
                0% {
                    transform: rotate(0deg) scale(1);
                }
                50% {
                    transform: rotate(180deg) scale(1.1);
                    border-top-color: #5b7fbf;
                    border-right-color: #5b7fbf;
                    box-shadow: 0 0 20px rgba(74, 109, 167, 0.4);
                }
                100% {
                    transform: rotate(360deg) scale(1);
                }
            }

            @keyframes spinCounterClockwise {
                0% {
                    transform: rotate(0deg) scale(1);
                }
                50% {
                    transform: rotate(-180deg) scale(1.15);
                    border-bottom-color: #5b7fbf;
                    border-left-color: #5b7fbf;
                }
                100% {
                    transform: rotate(-360deg) scale(1);
                }
            }

            /* Add a subtle pulsating dot in the center */
            .tab-spinner .center-dot {
                position: absolute;
                width: 12px;
                height: 12px;
                background-color: #4a6da7;
                border-radius: 50%;
                animation: pulseDot 1.5s ease-in-out infinite;
            }

            @keyframes pulseDot {
                0%,
                100% {
                    transform: scale(0.7);
                    opacity: 0.5;
                }
                50% {
                    transform: scale(1);
                    opacity: 0.8;
                    box-shadow: 0 0 10px rgba(74, 109, 167, 0.6);
                }
            }

            /* Keep your existing fade transition */
            .tab-content {
                opacity: 0;
                transition: opacity 0.3s ease-in-out;
            }

            .tab-content.active {
                opacity: 1;
            }
        </style>
    </head>
    <body>
        <!-- Loading Screen -->
        <div class="loader-container">
            <div class="loader-logo">
                <img src="./logo.png" alt="Sunday School Logo" />
                <div class="pulse"></div>
            </div>
            <div class="ministry-name">Life Gate Ministries Worldwide</div>
            <div class="loader-text">Loading Sunday School Lesson</div>
            <div class="progress-container">
                <div class="progress-bar"></div>
            </div>
        </div>

        <div class="inner-logo-container">
            <img src="./logo.png" alt="Sunday School Logo" class="logo" />
        </div>

        <button
            class="theme-toggle"
            onclick="toggleTheme()"
            aria-label="Toggle theme"
        >
            <i class="fas fa-moon"></i>
        </button>

        <div class="container">
            <h1>Sunday School Lesson</h1>
            <h2>Date: <span>May 25, 2025</span></h2>
            <h2>Tithes Part 1</h2>
            <div class="progress-container">
                <div class="progress-bar">
                    <div class="progress" id="lessonProgress"></div>
                </div>
            </div>

            <!-- Tab Navigation -->

            <div class="tabs">
                <button class="tab-btn active" onclick="openTab('intro')">
                    Introduction
                </button>
                <button class="tab-btn" onclick="openTab('lesson')">
                    Lesson
                </button>

                <button class="tab-btn" onclick="openTab('conclusion')">
                    Conclusion
                </button>
                <button class="tab-btn" onclick="openTab('application')">
                    Application
                </button>

                <button class="tab-btn" onclick="openTab('quiz')">Quiz</button>
                <button class="tab-btn" onclick="openTab('prayer')">
                    Prayer Points
                </button>
            </div>

            <div id="tab-spinner" class="tab-spinner" style="display: none">
                <i class="fas fa-spinner fa-spin"></i>
            </div>

            <!-- Tab Contents -->
            <div id="intro" class="tab-content active">
                <div class="memory-verse">
                    <h2>Memory Verse</h2>
                    <blockquote>
                        "Honour the LORD with thy substance and with the
                        firstfruit of all thine increase:" - Proverbs 3:9
                        <br />
                        <button
                            onclick="showBibleVersions('Proverbs 3:9')"
                            class="verse-btn"
                        >
                            Read in Different Versions
                        </button>
                    </blockquote>
                </div>
                <h2>Text: Malachi 3:10-12</h2>
                <blockquote>
                    <button
                        onclick="showBibleVersions('Malachi 3:10-12')"
                        class="verse-btn"
                    >
                        Read in Different Versions
                    </button>
                </blockquote>

                <h2>Introduction</h2>
                <p>
                    The issue of tithing is somewhat a controversial one, as
                    some people don't believe it should be practiced in our day.
                    Others believe in it but the mode of practice is
                    unscriptural.
                </p>
                <p>
                    God has given us grace to look into His words and we would
                    benefits if we prayerfully consider these words in the light
                    of His will.
                </p>

                <div class="aims-objectives">
                    <h3>Aims and Objectives</h3>
                    <p>
                        <strong>Aim:</strong>To address the minds of God's
                        people to agree with the command of tithing.
                    </p>
                    <p>
                        <strong>Objective:</strong> That everyone may give God
                        tithe of all and receive abundant blessings from the
                        giver of all things.
                    </p>
                </div>
            </div>

            <div id="lesson" class="tab-content">
                <h2>Text Review/Lesson</h2>
                <div class="main-text">
                    <h3>Text: Malachi 3:10-12</h3>
                    <button
                        onclick="showBibleVersions('Malachi 3:10-12')"
                        class="verse-btn"
                    >
                        Read Passage
                    </button>
                </div>

                <div class="lesson-section">
                    <h3>Lesson</h3>
                    <p>
                        Tithe is the one-tenth of your income. Income is the
                        benefits that come to a person(s). In the text we are
                        commanded by God to bring our tithe to Him in His
                        store-house. Let us briefly analyze the text.
                    </p>

                    <ol class="scripture-list">
                        <li>
                            <h3>üëêüèæ BRING YE:</h3>
                            This means that we should not keep back our tithes.
                            <div class="verse-buttons">
                                <button
                                    onclick="showBibleVersions('Malachi 3:10')"
                                    class="verse-btn"
                                >
                                    Malachi 3:10
                                </button>
                            </div>
                        </li>
                        <li>
                            <h3>üíØ THE WORD "ALL":</h3>

                            Means it should be paid in full, that is one tenth.
                            <br />
                            üíµüíµüíµüíµüíµüíµüíµüíµüíµ üí∞ üëà Tithe (1/10)

                            <div class="verse-buttons">
                                <button
                                    onclick="showBibleVersions('Malachi 3:10')"
                                    class="verse-btn"
                                >
                                    Malachi 3:10
                                </button>
                            </div>
                        </li>
                        <li>
                            <h3>TITHES: üí∞üìñ</h3>
                            The plural there stands for more than one. For
                            instance, a landlord üè† who works üíº and does
                            business üìä should bring a tithe of his house
                            proceeds, salary üíµ and business profit üìà.

                            <div class="verse-buttons">
                                <button
                                    onclick="showBibleVersions('Malachi 3:10')"
                                    class="verse-btn"
                                >
                                    Malachi 3:10
                                </button>
                            </div>
                        </li>
                        <li>
                            <h3>üèõÔ∏è THE STORE HOUSE:</h3>
                            This is very specific as to where the tithes should
                            be taken to. Don't spend it on yourself neither
                            should it be taken to some mobile ministers.

                            <div class="verse-buttons">
                                <button
                                    onclick="showBibleVersions('Malachi 3:10')"
                                    class="verse-btn"
                                >
                                    Malachi 3:10
                                </button>
                            </div>
                        </li>

                        <li>
                            <h3>üçñ THAT THERE MAY BE MEAT IN MY HOUSE:</h3>
                            God is interested in <strong>surplus</strong> in His
                            house. He is the God of
                            <strong>abundance</strong> üí∞ and His house üè† on
                            earth can't lack. There is so much that
                            <strong>tithes</strong> üíµ take care of amongst His
                            servants üôè. If the needs of God's servants and
                            other <strong>church needs</strong> ‚õ™ are not met,
                            His servant may be tempted to abandon the work üß≥
                            and look for solace elsewhere. This will be to the
                            <strong>detriment</strong> ‚ö†Ô∏è of God and His people.
                            Neh. 10:39, 13:10-11.
                            <div></div>
                            <div class="verse-buttons">
                                <button
                                    onclick="showBibleVersions('Malachi 3:10')"
                                    class="verse-btn"
                                >
                                    Malachi 3:10
                                </button>
                            </div>
                            <div class="verse-buttons">
                                <button
                                    onclick="showBibleVersions('Nehemiah 10:39')"
                                    class="verse-btn"
                                >
                                    Nehemiah 10:39
                                </button>
                            </div>
                            <div class="verse-buttons">
                                <button
                                    onclick="showBibleVersions('Nehemiah 13:10-11')"
                                    class="verse-btn"
                                >
                                    Nehemiah 13:10-11
                                </button>
                            </div>
                        </li>
                    </ol>
                </div>
            </div>

            <div id="application" class="tab-content">
                <h2>Personal Application ‚Äì Tithes Part 1</h2>
                <div class="reflection-section">
                    <div class="interactive-cards">
                        <div class="reflection-card">
                            <h3>Tithing Obedience Check</h3>
                            <div class="love-meter">
                                <p>
                                    Rate your obedience in giving your tithe
                                    this week:
                                </p>
                                <div class="rating-container">
                                    <input
                                        type="range"
                                        min="1"
                                        max="10"
                                        value="5"
                                        class="love-slider"
                                        id="titheRating"
                                    />
                                    <span class="rating-value">5/10</span>
                                </div>
                                <div class="rating-feedback"></div>
                            </div>
                        </div>

                        <div class="reflection-card">
                            <h3>Tithing Action Plan</h3>
                            <div class="action-items">
                                <div class="action-item">
                                    <input type="checkbox" id="action1" />
                                    <label for="action1"
                                        >Calculate 10% of all my income and set
                                        it aside for God.</label
                                    >
                                </div>
                                <div class="action-item">
                                    <input type="checkbox" id="action2" />
                                    <label for="action2"
                                        >Pay my tithe to the right storehouse
                                        (my local church).</label
                                    >
                                </div>
                                <div class="action-item">
                                    <input type="checkbox" id="action3" />
                                    <label for="action3"
                                        >Encourage someone else to honor God
                                        with their substance.</label
                                    >
                                </div>
                                <button class="add-action-btn">
                                    + Add Custom Action
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="reflection-journal">
                        <h3>Reflection Journal</h3>
                        <div class="journal-prompts">
                            <div class="prompt active">
                                <p>
                                    How have you honored the Lord with your
                                    substance this week?
                                </p>
                                <textarea
                                    class="reflection-input"
                                    placeholder="Write your thoughts here..."
                                ></textarea>
                            </div>
                            <div class="prompt-nav">
                                <button class="prev-prompt" disabled>
                                    <i class="fas fa-arrow-left"></i>
                                </button>
                                <span class="prompt-counter">1/3</span>
                                <button class="next-prompt">
                                    <i class="fas fa-arrow-right"></i>
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="commitment-section">
                        <h3>Tithing Commitment</h3>
                        <div class="commitment-form">
                            <p>I commit to honoring God with:</p>
                            <input
                                type="text"
                                class="commitment-input"
                                placeholder="e.g., All my income from this month..."
                            />
                            <button class="save-commitment">
                                Make Commitment
                            </button>
                        </div>
                        <div class="saved-commitments">
                            <h4>Previous Commitments</h4>
                            <ul class="commitment-list"></ul>
                        </div>
                    </div>
                </div>
            </div>

            <div id="conclusion" class="tab-content">
                <h2>Conclusion</h2>
                <p>
                    God is working to redeem the whole earth to its original
                    state. In His plan, man and other things are involved as
                    instrument to achieve that purpose. Tithe is one of the
                    income generating ways by which the instruments are kept up.
                    Refusing to pay your tithes is nothing but a way against
                    God's plans and He won't overlook it.
                </p>
            </div>

            <div id="quiz" class="tab-content">
                <h2>Knowledge Check</h2>
                <div class="quiz-container">
                    <div id="quiz-questions">
                        <div class="question">
                            <p>1. What is the memory verse for this lesson?</p>
                            <div class="options">
                                <label
                                    ><input type="radio" name="q1" value="a" />
                                    Proverbs 3:9</label
                                >
                                <label
                                    ><input type="radio" name="q1" value="b" />
                                    Malachi 3:10</label
                                >
                                <label
                                    ><input type="radio" name="q1" value="c" />
                                    Nehemiah 13:10</label
                                >
                            </div>
                        </div>

                        <div class="question">
                            <p>
                                2. What does the word ‚ÄúALL‚Äù imply in relation to
                                tithing?
                            </p>
                            <div class="options">
                                <label
                                    ><input type="radio" name="q2" value="a" />
                                    Give what you feel like</label
                                >
                                <label
                                    ><input type="radio" name="q2" value="b" />
                                    It should be one-tenth and complete</label
                                >
                                <label
                                    ><input type="radio" name="q2" value="c" />
                                    Only cash is accepted</label
                                >
                            </div>
                        </div>

                        <div class="question">
                            <p>
                                3. What is the significance of the storehouse in
                                Malachi 3?
                            </p>
                            <div class="options">
                                <label
                                    ><input type="radio" name="q3" value="a" />
                                    A savings account</label
                                >
                                <label
                                    ><input type="radio" name="q3" value="b" />
                                    A place for God's tithe, not for personal or
                                    random use</label
                                >
                                <label
                                    ><input type="radio" name="q3" value="c" />
                                    Any charity organization</label
                                >
                            </div>
                        </div>

                        <div class="question">
                            <p>
                                4. According to the lesson, what happens when
                                God's house lacks?
                            </p>
                            <div class="options">
                                <label
                                    ><input type="radio" name="q4" value="a" />
                                    His servants may abandon the work</label
                                >
                                <label
                                    ><input type="radio" name="q4" value="b" />
                                    God sends fire from heaven</label
                                >
                                <label
                                    ><input type="radio" name="q4" value="c" />
                                    Nothing happens</label
                                >
                            </div>
                        </div>

                        <div class="question">
                            <p>
                                5. What blessings are promised to those who
                                tithe faithfully?
                            </p>
                            <div class="options">
                                <label
                                    ><input type="radio" name="q5" value="a" />
                                    They will be popular</label
                                >
                                <label
                                    ><input type="radio" name="q5" value="b" />
                                    God will open the windows of heaven and pour
                                    blessings</label
                                >
                                <label
                                    ><input type="radio" name="q5" value="c" />
                                    They will never die</label
                                >
                            </div>
                        </div>

                        <div class="question">
                            <p>
                                6. Why is tithing essential in God's redemption
                                plan?
                            </p>
                            <div class="options">
                                <label
                                    ><input type="radio" name="q6" value="a" />
                                    It entertains the church</label
                                >
                                <label
                                    ><input type="radio" name="q6" value="b" />
                                    It funds worldly programs</label
                                >
                                <label
                                    ><input type="radio" name="q6" value="c" />
                                    It helps sustain the instruments God uses
                                    for His work</label
                                >
                            </div>
                        </div>
                    </div>
                    <button onclick="checkQuiz()" class="quiz-submit">
                        Submit Answers
                    </button>
                    <div id="quiz-results"></div>
                </div>
            </div>

            <div id="prayer" class="tab-content">
                <h2>Prayer Points</h2>
                <div class="prayer-points">
                    <ol>
                        <li>
                            Thank You, Lord, for giving me understanding about
                            the importance and blessing of tithing.
                        </li>
                        <li>
                            Father, I‚Äôm grateful for every provision You‚Äôve
                            given me‚ÄîYou are my source and sustainer.
                        </li>
                        <li>
                            Thank You for the opportunity to honor You with my
                            resources and to participate in the work of Your
                            kingdom.
                        </li>
                        <li>
                            Lord, I bring repentance and ask for mercy for the
                            times I failed to pay my tithes or withheld what
                            belonged to You.
                        </li>
                        <li>
                            Rebuke the devourer for my sake and protect
                            everything You‚Äôve blessed me with as I honor You
                            with my tithes.
                        </li>
                        <li>
                            Open the windows of heaven and pour out overflowing
                            blessings on my life as You promised in Your Word.
                        </li>
                        <li>
                            Give me a generous heart to support Your work beyond
                            the tithe and to help those in need.
                        </li>
                        <li>
                            Teach me to be a faithful steward of all You entrust
                            into my hands and to use it for Your glory.
                        </li>
                    </ol>
                </div>
            </div>

            <!-- Add this modal for Bible versions -->
            <div id="verse-modal" class="modal">
                <div class="modal-content">
                    <span class="close">&times;</span>
                    <h2 id="verse-reference"></h2>
                    <div class="version-tab">
                        <button
                            class="version-btn active"
                            onclick="showVersion('KJV')"
                        >
                            KJV
                        </button>
                        <button
                            class="version-btn"
                            onclick="showVersion('NKJV')"
                        >
                            NKJV
                        </button>
                        <button
                            class="version-btn"
                            onclick="showVersion('NIV')"
                        >
                            NIV
                        </button>
                        <button
                            class="version-btn"
                            onclick="showVersion('ESV')"
                        >
                            ESV
                        </button>
                        <button
                            class="version-btn"
                            onclick="showVersion('AMP')"
                        >
                            AMP
                        </button>
                        <button
                            class="version-btn"
                            onclick="showVersion('NLT')"
                        >
                            NLT
                        </button>
                    </div>
                    <div id="verse-text"></div>
                </div>
            </div>
        </div>

        <div class="fab" onclick="toggleQuickNav()">
            <i class="fas fa-compass"></i>
        </div>

        <div class="quick-nav" id="quickNav" style="position: fixed; top: 0px; right: 10px !important">
            <button onclick="scrollToTop()">
                <i class="fas fa-arrow-up"></i> Top
            </button>
            <button onclick="saveProgress()">
                <i class="fas fa-save"></i> Save
            </button>
            <button onclick="shareLesson()">
                <i class="fas fa-share"></i> Share
            </button>
        </div>

        <!-- Replace your existing font controls with this -->
        <div class="font-controls">
            <button
                onclick="adjustFontSize(-1)"
                aria-label="Decrease font size"
            >
                <i class="fas fa-minus"></i>
            </button>
            <span class="font-size">16px</span>
            <button onclick="adjustFontSize(1)" aria-label="Increase font size">
                <i class="fas fa-plus"></i>
            </button>
            <select
                class="font-family-select"
                onchange="changeFont(this.value)"
            >
                <option value="'Segoe UI', sans-serif">Default</option>
                <option value="Arial, sans-serif">Arial</option>
                <option value="Georgia, serif">Georgia</option>
                <option value="'Times New Roman', serif">
                    Times New Roman
                </option>
                <option value="'Comic Sans MS', cursive">Comic Sans</option>
            </select>
        </div>
        <script
            src="https://code.jquery.com/jquery-3.7.1.min.js"
            integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="
            crossorigin="anonymous"
        ></script>

        <script>
            $(function () {
                let tab = $("tab");
                tab.click(function () {
                    alert;
                });
            });
        </script>

        <script>
            // Loading Screen
            window.addEventListener("load", function () {
                setTimeout(() => {
                    document.querySelector(".loader-container").style.display =
                        "none";
                }, 2000);
            });

            // // Tab Functionality
            function openTab(tabName) {
                const tabContents =
                    document.getElementsByClassName("tab-content");
                const tabButtons = document.getElementsByClassName("tab-btn");
                const spinner = document.getElementById("tab-spinner");

                for (let content of tabContents) {
                    content.classList.remove("active");
                    content.style.display = "none";
                }

                for (let button of tabButtons) {
                    button.classList.remove("active");
                }

                document.getElementById(tabName).classList.add("active");
                event.currentTarget.classList.add("active");

                spinner.style.display = "flex";

                setTimeout(() => {
                    // Hide spinner
                    spinner.style.display = "none";

                    // Show selected tab content
                    const selectedTab = document.getElementById(tabName);
                    selectedTab.style.display = "block";

                    // Trigger a reflow before adding the active class for animation
                    void selectedTab.offsetWidth;

                    // Add active class to fade in the content
                    selectedTab.classList.add("active");

                    // Update progress if needed
                    updateProgress();
                }, 800); // Adjust loading time as needed (800ms)
            }

            // Theme Toggle

            function toggleTheme() {
                document.body.classList.toggle("dark-mode");
                const icon = document.querySelector(".theme-toggle i");
                icon.classList.toggle("fa-moon");
                icon.classList.toggle("fa-sun");
            }

            // Add these functions to your existing JavaScript

            function showBibleVersions(reference) {
                const modal = document.getElementById("verse-modal");
                const verseRef = document.getElementById("verse-reference");
                verseRef.textContent = reference;
                modal.style.display = "block";
                document.body.classList.add("modal-open");
                showVersion(preferredVersion);
            }

            const bibleVerses = {
                "Proverbs 3:9": {
                    KJV: "Honour the LORD with thy substance, and with the firstfruits of all thine increase.",
                    NKJV: "Honor the LORD with your possessions, and with the firstfruits of all your increase.",
                    NIV: "Honor the LORD with your wealth, with the firstfruits of all your crops.",
                    ESV: "Honor the LORD with your wealth and with the firstfruits of all your produce.",
                    AMP: "Honor the LORD with your wealth and with the first fruits of all your crops (income).",
                    NLT: "Honor the LORD with your wealth and with the best part of everything you produce.",
                },
                "Malachi 3:10": {
                    KJV: "Bring ye all the tithes into the storehouse, that there may be meat in mine house, and prove me now herewith, saith the LORD of hosts, if I will not open you the windows of heaven, and pour you out a blessing, that there shall not be room enough to receive it.",
                    NKJV: "Bring all the tithes into the storehouse, That there may be food in My house, And try Me now in this,‚Äù Says the LORD of hosts, ‚ÄúIf I will not open for you the windows of heaven And pour out for you such blessing That there will not be room enough to receive it.",
                    NIV: "Bring the whole tithe into the storehouse, that there may be food in my house. Test me in this,‚Äù says the LORD Almighty, ‚Äúand see if I will not throw open the floodgates of heaven and pour out so much blessing that there will not be room enough to store it.",
                    ESV: "Bring the full tithe into the storehouse, that there may be food in my house. And thereby put me to the test, says the LORD of hosts, if I will not open the windows of heaven for you and pour down for you a blessing until there is no more need.",
                    AMP: "Bring all the tithes (the tenth) into the storehouse, so that there may be food in My house, and test Me now in this,‚Äù says the LORD of hosts, ‚Äúif I will not open for you the windows of heaven and pour out for you [so great] a blessing until there is no more room to receive it.",
                    NLT: "Bring all the tithes into the storehouse so there will be enough food in my Temple. If you do,‚Äù says the LORD of Heaven‚Äôs Armies, ‚ÄúI will open the windows of heaven for you. I will pour out a blessing so great you won‚Äôt have enough room to take it in! Try it! Put me to the test!",
                },
                "Malachi 3:10-12": {
                    KJV: `10 Bring ye all the tithes into the storehouse, that there may be meat in mine house, and prove me now herewith, saith the LORD of hosts,
            if I will not open you the windows of heaven, and pour you out a blessing, that there shall not be room enough to receive it.
            11 And I will rebuke the devourer for your sakes, and he shall not destroy the fruits of your ground;
            neither shall your vine cast her fruit before the time in the field, saith the LORD of hosts.
            12 And all nations shall call you blessed: for ye shall be a delightsome land, saith the LORD of hosts.`,
                    NKJV: `10 Bring all the tithes into the storehouse, that there may be food in My house, and try Me now in this,‚Äù says the LORD of hosts,
            ‚ÄúIf I will not open for you the windows of heaven and pour out for you such blessing that there will not be room enough to receive it.
            11 And I will rebuke the devourer for your sakes, so that he will not destroy the fruit of your ground,
            nor shall the vine fail to bear fruit for you in the field,‚Äù says the LORD of hosts;
            12 ‚ÄúAnd all nations will call you blessed, for you will be a delightful land,‚Äù says the LORD of hosts.`,
                    NIV: `10 Bring the whole tithe into the storehouse, that there may be food in my house. Test me in this,‚Äù says the LORD Almighty,
            ‚Äúand see if I will not throw open the floodgates of heaven and pour out so much blessing that there will not be room enough to store it.
            11 I will prevent pests from devouring your crops, and the vines in your fields will not drop their fruit before it is ripe,‚Äù
            says the LORD Almighty.
            12 ‚ÄúThen all the nations will call you blessed, for yours will be a delightful land,‚Äù says the LORD Almighty.`,
                    ESV: `10 Bring the full tithe into the storehouse, that there may be food in my house. And thereby put me to the test, says the LORD of hosts,
            if I will not open the windows of heaven for you and pour down for you a blessing until there is no more need.
            11 I will rebuke the devourer for you, so that it will not destroy the fruits of your soil,
            and your vine in the field shall not fail to bear,‚Äù says the LORD of hosts.
            12 ‚ÄúThen all nations will call you blessed, for you will be a land of delight,‚Äù says the LORD of hosts.`,
                    AMP: `10 Bring all the tithes (the tenth) into the storehouse, so that there may be food in My house, and test Me now in this,‚Äù says the LORD of hosts,
            ‚Äúif I will not open for you the windows of heaven and pour out for you [so great] a blessing until there is no more room to receive it.
            11 Then I will rebuke the devourer (insects, plague) for your sake and he will not destroy the fruits of the ground,
            nor will your vine in the field drop its grapes before harvest,‚Äù says the LORD of hosts.
            12 ‚ÄúAll nations shall call you happy and blessed, for you shall be a land of delight,‚Äù says the LORD of hosts.`,
                    NLT: `10 Bring all the tithes into the storehouse so there will be enough food in my Temple.
            If you do,‚Äù says the LORD of Heaven‚Äôs Armies, ‚ÄúI will open the windows of heaven for you.
            I will pour out a blessing so great you won‚Äôt have enough room to take it in! Try it! Put me to the test!
            11 Your crops will be abundant, for I will guard them from insects and disease.
            Your grapes will not fall from the vine before they are ripe,‚Äù says the LORD of Heaven‚Äôs Armies.
            12 ‚ÄúThen all nations will call you blessed, for your land will be such a delight,‚Äù says the LORD of Heaven‚Äôs Armies.`,
                },
                "Nehemiah 10:39": {
                    KJV: "For the children of Israel and the children of Levi shall bring the offering of the corn, of the new wine, and the oil, unto the chambers, where are the vessels of the sanctuary, and the priests that minister, and the porters, and the singers: and we will not forsake the house of our God.",
                    NKJV: "For the children of Israel and the children of Levi shall bring the offering of the grain, of the new wine and the oil, to the storerooms where the articles of the sanctuary are, where the priests who minister and the gatekeepers and the singers are; and we will not neglect the house of our God.",
                    NIV: "The people of Israel, including the Levites, are to bring their contributions of grain, new wine and olive oil to the storerooms where the articles for the sanctuary and for the ministering priests, the gatekeepers and the musicians are also kept. 'We will not neglect the house of our God.'",
                    ESV: "For the people of Israel and the sons of Levi shall bring the contribution of grain, wine, and oil to the chambers, where are the vessels of the sanctuary, as well as the priests who minister, and the gatekeepers and the singers. We will not neglect the house of our God.",
                    AMP: "For the Israelites and the sons of Levi shall bring the offering of the grain, the new wine, and the oil to the chambers; the utensils of the sanctuary, the priests who are ministering, the gatekeepers, and the singers are there. In this manner, we will not neglect the house of our God.",
                    NLT: "The people of Israel and the Levites must bring these offerings of grain, new wine, and olive oil to the storerooms and place them in the sacred containers near the ministering priests, the gatekeepers, and the singers. 'We promise together not to neglect the Temple of our God.'",
                },
                "Nehemiah 13:10-11": {
                    KJV: `10 And I perceived that the portions of the Levites had not been given them:
            for the Levites and the singers, that did the work, were fled every one to his field.
            11 Then contended I with the rulers, and said, Why is the house of God forsaken?
            And I gathered them together, and set them in their place.`,
                    NKJV: `10 I also realized that the portions for the Levites had not been given them;
            for each of the Levites and the singers who did the work had gone back to his field.
            11 So I contended with the rulers, and said, 'Why is the house of God forsaken?'
            And I gathered them together and set them in their place.`,
                    NIV: `10 I also learned that the portions assigned to the Levites had not been given to them,
            and that all the Levites and musicians responsible for the service had gone back to their own fields.
            11 So I rebuked the officials and asked them, 'Why is the house of God neglected?'
            Then I called them together and stationed them at their posts.`,
                    ESV: `10 I also found out that the portions of the Levites had not been given to them,
            so that the Levites and the singers, who did the work, had fled each to his field.
            11 So I confronted the officials and said, 'Why is the house of God forsaken?'
            And I gathered them together and set them in their stations.`,
                    AMP: `10 I also discovered that the portions of the Levites had not been given to them,
            so that the Levites and the singers who did the work had each fled to his field.
            11 So I reprimanded the officials and said, ‚ÄúWhy is the house of God neglected?‚Äù
            Then I gathered them together and restored them to their posts.`,
                    NLT: `10 I also discovered that the Levites had not been given their prescribed portions of food,
            so they and the singers who were to conduct the worship services had all returned to work their fields.
            11 I immediately confronted the leaders and demanded, ‚ÄúWhy has the Temple of God been neglected?‚Äù
            Then I called all the Levites back again and restored them to their proper duties.`,
                },
            };

            // Replace the existing showVersion function

            function showVersion(version) {
                const reference =
                    document.getElementById("verse-reference").textContent;
                const verseText = document.getElementById("verse-text");

                // Show loader
                verseText.innerHTML =
                    '<div class="verse-loader"><i class="fas fa-spinner fa-2x"></i></div>';

                // Simulate loading time and show verse
                setTimeout(() => {
                    if (bibleVerses[reference]) {
                        verseText.innerHTML = `<p class="verse-text">${bibleVerses[reference][version]}</p>`;
                        // Add show class after a brief delay to trigger fade-in
                        setTimeout(() => {
                            document
                                .querySelector(".verse-text")
                                .classList.add("show");
                        }, 50);
                    } else {
                        verseText.innerHTML =
                            "<p>Verse not found in database.</p>";
                    }

                    // Update active button
                    document.querySelectorAll(".version-btn").forEach((btn) => {
                        btn.classList.remove("active");
                        if (btn.textContent === version)
                            btn.classList.add("active");
                    });
                }, 500); // Half second loading time
            }

            // Close modal when clicking the X or outside
            document.querySelector(".close").onclick = function () {
                document.getElementById("verse-modal").style.display = "none";
                document.body.classList.remove("modal-open");
            };

            window.onclick = function (event) {
                const modal = document.getElementById("verse-modal");
                if (event.target == modal) {
                    modal.style.display = "none";
                    document.body.classList.remove("modal-open");
                }
            };

            // function checkQuiz() {
            //     const answers = {
            //         q1: "b",
            //         q2: "b",
            //         q3: "c",
            //     };

            //     let score = 0;
            //     let total = Object.keys(answers).length;

            //     for (let question in answers) {
            //         const selected = document.querySelector(
            //             `input[name="${question}"]:checked`
            //         );
            //         if (selected && selected.value === answers[question])
            //             score++;
            //     }

            //     const results = document.getElementById("quiz-results");
            //     results.innerHTML = `
            //                                         <h3>Quiz Results</h3>
            //                                         <p>You scored ${score} out of ${total}</p>
            //                                         ${
            //                                             score === total
            //                                                 ? "<p>Excellent! Perfect score!</p>"
            //                                                 : "<p>Keep studying and try again!</p>"
            //                                         }
            //                                     `;
            // }

            // Add to your existing <script> section
            // Track progress

            function checkQuiz() {
                const answers = {
                    q1: "b", // Malachi 3:10
                    q2: "b", // It should be one-tenth and complete
                    q3: "b", // A place for God's tithe, not for personal or random use
                    q4: "a", // His servants may abandon the work
                    q5: "b", // God will open the windows of heaven and pour blessings
                    q6: "c", // It helps sustain the instruments God uses for His work
                };

                let score = 0;
                let total = Object.keys(answers).length;
                let resultsHTML = "<h3>Results:</h3><ul>";

                for (let key in answers) {
                    const selected = document.querySelector(
                        `input[name="${key}"]:checked`
                    );
                    if (selected) {
                        if (selected.value === answers[key]) {
                            score++;
                            resultsHTML += `<li>Question ${key.slice(
                                1
                            )}: Correct ‚úÖ</li>`;
                        } else {
                            resultsHTML += `<li>Question ${key.slice(
                                1
                            )}: Incorrect ‚ùå</li>`;
                        }
                    } else {
                        resultsHTML += `<li>Question ${key.slice(
                            1
                        )}: Not answered ‚ö†Ô∏è</li>`;
                    }
                }

                resultsHTML += `</ul><p>You scored <strong>${score} out of ${total}</strong>.</p>`;

                const resultsDiv = document.getElementById("quiz-results");
                resultsDiv.innerHTML = resultsHTML;
                resultsDiv.scrollIntoView({ behavior: "smooth" });
            }

            let progress = 0;
            const totalSections = 5; // Number of tabs

            function updateProgress(increment = true) {
                if (increment) {
                    progress = Math.min(100, progress + 100 / totalSections);
                }
                const progressBar = document.querySelector(".progress");
                const progressText = document.querySelector(".progress-text");
                progressBar.style.width = `${progress}%`;
                progressText.textContent = `${Math.round(progress)}% Complete`;

                if (progress >= 100) {
                    showToast(
                        "Congratulations! You've completed the lesson! üéâ"
                    );
                }
            }

            function showToast(message) {
                const toast = document.createElement("div");
                toast.className = "toast";
                toast.textContent = message;
                document.body.appendChild(toast);

                // Trigger reflow
                toast.offsetHeight;

                // Show toast
                toast.style.opacity = "1";

                // Hide after 3 seconds
                setTimeout(() => {
                    toast.style.opacity = "0";
                    setTimeout(() => toast.remove(), 300);
                }, 3000);
            }

            // Add interaction tracking to tab switching
            const originalOpenTab = openTab;
            openTab = function (tabName) {
                originalOpenTab(tabName);
                updateProgress();

                // Add animation to questions
                if (tabName === "quiz") {
                    document.querySelectorAll(".question").forEach((q, i) => {
                        setTimeout(() => q.classList.add("show"), i * 200);
                    });
                }
            };

            // Save progress to localStorage
            function saveProgress() {
                localStorage.setItem("lessonProgress", progress);
                showToast("Progress saved! üíæ");
            }

            // Load saved progress
            window.addEventListener("load", () => {
                const savedProgress = localStorage.getItem("lessonProgress");
                if (savedProgress) {
                    progress = parseFloat(savedProgress);
                    updateProgress(false);
                }
            });

            // Share functionality
            function shareLesson() {
                if (navigator.share) {
                    navigator
                        .share({
                            title: "Sunday School Lesson",
                            text: "Check out this lesson on Real Christian Clothing!",
                            url: window.location.href,
                        })
                        .then(() => showToast("Shared successfully! üôå"))
                        .catch(() => showToast("Sharing failed"));
                } else {
                    showToast("Sharing not supported on this device");
                }
            }

            // Scroll to top
            function scrollToTop() {
                window.scrollTo({
                    top: 0,
                    behavior: "smooth",
                });
            }

            // Add to your existing JavaScript

            let preferredVersion =
                localStorage.getItem("preferredVersion") || "KJV";

            function changeDefaultVersion(version) {
                preferredVersion = version;
                localStorage.setItem("preferredVersion", version);
                showVersion(version);
                showToast(`Default Bible version changed to ${version}`);
            }

            // Update the showBibleVersions function
            function showBibleVersions(reference) {
                const modal = document.getElementById("verse-modal");
                const verseRef = document.getElementById("verse-reference");
                verseRef.textContent = reference;
                modal.style.display = "block";
                document.body.classList.add("modal-open");
                showVersion(preferredVersion);
            }

            // Load preferred version on startup
            window.addEventListener("load", () => {
                const savedVersion = localStorage.getItem("preferredVersion");
                if (savedVersion) {
                    preferredVersion = savedVersion;
                    document.querySelectorAll(".version-btn").forEach((btn) => {
                        btn.classList.remove("active");
                        if (btn.textContent === preferredVersion)
                            btn.classList.add("active");
                    });
                }
            });

            // Add this to your existing <script> section
            let currentFontSize =
                parseInt(localStorage.getItem("preferredFontSize")) || 16;

            function adjustFontSize(delta) {
                // Adjust font size with limits
                currentFontSize = Math.min(
                    Math.max(currentFontSize + delta, 12),
                    24
                );

                // Update CSS variable
                document.documentElement.style.setProperty(
                    "--font-size",
                    `${currentFontSize}px`
                );

                // Update display
                document.querySelector(
                    ".font-size"
                ).textContent = `${currentFontSize}px`;

                // Save to localStorage
                localStorage.setItem("preferredFontSize", currentFontSize);
            }

            // Initialize font size on page load
            window.addEventListener("load", () => {
                // Set initial font size
                document.documentElement.style.setProperty(
                    "--font-size",
                    `${currentFontSize}px`
                );
                document.querySelector(
                    ".font-size"
                ).textContent = `${currentFontSize}px`;

                // Add scalable-text class to all text elements
                document
                    .querySelectorAll(
                        "p, h1, h2, h3, h4, h5, h6, li, blockquote, label, button, input, textarea, .tab-btn, .verse-text, .options label"
                    )
                    .forEach((el) => el.classList.add("scalable-text"));
            });

            function changeFont(fontFamily) {
                document.body.style.fontFamily = fontFamily;
                // Save preference
                localStorage.setItem("preferredFont", fontFamily);
            }

            // Load saved preferences
            window.addEventListener("load", () => {
                const savedFontSize = localStorage.getItem("preferredFontSize");
                if (savedFontSize) {
                    currentFontSize = parseInt(savedFontSize);
                    adjustFontSize(0);
                }

                const savedFont = localStorage.getItem("preferredFont");
                if (savedFont) {
                    document.body.style.fontFamily = savedFont;
                    document.querySelector(".font-family-select").value =
                        savedFont;
                }
            });

            // Add CSS Variable for scaling
            document.documentElement.style.setProperty(
                "--content-scale",
                "100%"
            );

            // Update content elements to use the scale
            document
                .querySelectorAll(
                    ".tab-content, .memory-verse, .reflection-notes"
                )
                .forEach((el) => {
                    el.classList.add("adjustable-content");
                    el.style.fontSize =
                        "calc(1rem * var(--content-scale) / 100)";
                });

            // Add to your existing <script> section
            document.addEventListener("DOMContentLoaded", () => {
                // Love Meter functionality
                const loveSlider = document.querySelector(".love-slider");
                const ratingValue = document.querySelector(".rating-value");
                const ratingFeedback =
                    document.querySelector(".rating-feedback");

                if (loveSlider) {
                    loveSlider.addEventListener("input", () => {
                        const value = loveSlider.value;
                        ratingValue.textContent = `${value}/10`;

                        // Update feedback based on rating
                        const feedback =
                            value >= 8
                                ? "Excellent! Keep showing God's love!"
                                : value >= 6
                                ? "Good effort! There's room to grow."
                                : "Consider ways to show more love tomorrow.";
                        ratingFeedback.textContent = feedback;
                    });
                }

                // Action Items functionality
                const addActionBtn = document.querySelector(".add-action-btn");
                if (addActionBtn) {
                    addActionBtn.addEventListener("click", () => {
                        const action = prompt("Enter your custom love action:");
                        if (action) {
                            const actionItems =
                                document.querySelector(".action-items");
                            const newAction = document.createElement("div");
                            newAction.className = "action-item";
                            newAction.innerHTML = `
                                                                    <input type="checkbox" id="action${Date.now()}">
                                                                    <label for="action${Date.now()}">${action}</label>
                                                                `;
                            actionItems.insertBefore(newAction, addActionBtn);
                        }
                    });
                }

                // Journal Prompts functionality
                const prompts = [
                    "How did you demonstrate God's love today?",
                    "What challenges did you face in showing love?",
                    "How can you better express God's love tomorrow?",
                ];
                let currentPrompt = 0;

                const updatePrompt = () => {
                    const promptElement = document.querySelector(".prompt p");
                    const promptCounter =
                        document.querySelector(".prompt-counter");
                    if (promptElement) {
                        promptElement.textContent = prompts[currentPrompt];
                        promptCounter.textContent = `${currentPrompt + 1}/${
                            prompts.length
                        }`;
                    }
                };

                const nextPromptBtn = document.querySelector(".next-prompt");
                const prevPromptBtn = document.querySelector(".prev-prompt");

                if (nextPromptBtn && prevPromptBtn) {
                    nextPromptBtn.addEventListener("click", () => {
                        if (currentPrompt < prompts.length - 1) {
                            currentPrompt++;
                            updatePrompt();
                            prevPromptBtn.disabled = false;
                            if (currentPrompt === prompts.length - 1) {
                                nextPromptBtn.disabled = true;
                            }
                        }
                    });

                    prevPromptBtn.addEventListener("click", () => {
                        if (currentPrompt > 0) {
                            currentPrompt--;
                            updatePrompt();
                            nextPromptBtn.disabled = false;
                            if (currentPrompt === 0) {
                                prevPromptBtn.disabled = true;
                            }
                        }
                    });
                }

                // Commitment functionality
                const saveCommitmentBtn =
                    document.querySelector(".save-commitment");
                const commitmentInput =
                    document.querySelector(".commitment-input");
                const commitmentList =
                    document.querySelector(".commitment-list");

                if (saveCommitmentBtn && commitmentInput && commitmentList) {
                    // Load saved commitments
                    const savedCommitments = JSON.parse(
                        localStorage.getItem("commitments") || "[]"
                    );
                    savedCommitments.forEach((commitment) => {
                        const li = document.createElement("li");
                        li.textContent = commitment;
                        commitmentList.appendChild(li);
                    });

                    saveCommitmentBtn.addEventListener("click", () => {
                        const commitment = commitmentInput.value.trim();
                        if (commitment) {
                            const li = document.createElement("li");
                            li.textContent = commitment;
                            commitmentList.appendChild(li);

                            // Save to localStorage
                            const commitments = JSON.parse(
                                localStorage.getItem("commitments") || "[]"
                            );
                            commitments.push(commitment);
                            localStorage.setItem(
                                "commitments",
                                JSON.stringify(commitments)
                            );

                            commitmentInput.value = "";
                            showToast("Commitment saved! üôè");
                        }
                    });
                }
            });
        </script>
    </body>
</html>
